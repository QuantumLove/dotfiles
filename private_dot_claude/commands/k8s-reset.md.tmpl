---
name: k8s-reset
description: Reset Kubernetes cluster to clean state
---

# Kubernetes Cluster Reset

Reset local Kubernetes cluster (minikube/kind) to clean state.

## Usage

```
/k8s-reset
/k8s-reset --confirm
/k8s-reset --keep-namespaces dev,staging
```

## Implementation

1. Detect cluster type (minikube/kind/k3s)
2. List all resources to be deleted
3. Ask for confirmation (unless `--confirm` passed)
4. Delete resources in safe order:
   - Deployments
   - StatefulSets
   - DaemonSets
   - Services
   - ConfigMaps/Secrets
   - PVCs
   - Namespaces (except kube-system)
5. Restart cluster if needed

## Safety Features

- **Dry run first:** Show what will be deleted
- **Namespace protection:** Never delete kube-system, kube-public
- **Confirmation required:** User must confirm destructive operation
- **Backup option:** Offer to export resources before deletion

## Example Output

```
ğŸ”„ Kubernetes Cluster Reset
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Cluster: minikube
Context: minikube

Resources to be deleted:
  â€¢ Namespaces: dev, staging (2)
  â€¢ Deployments: 8
  â€¢ Services: 12
  â€¢ ConfigMaps: 15
  â€¢ Secrets: 6
  â€¢ PVCs: 3

âš ï¸  This will DELETE all resources listed above.

Continue? (yes/no): yes

ğŸ—‘ï¸  Deleting resources...
   âœ… Deleted deployments in dev
   âœ… Deleted deployments in staging
   âœ… Deleted services in dev
   ...

âœ… Cluster reset complete
   Ready to deploy fresh resources
```
