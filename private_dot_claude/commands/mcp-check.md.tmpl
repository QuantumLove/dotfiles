---
name: mcp-check
description: Check MCP server authentication status
---

# MCP Authentication Check

Verify that all MCP servers can authenticate from current environment.

## Usage

```
/mcp-check
/mcp-check --verbose
```

## Implementation

```bash
echo "üîç Checking MCP Authentication..."
echo ""

# Check required credentials
if [ -n "$LINEAR_API_KEY" ]; then
    # Mask the token (show first 4 and last 4 chars)
    masked="${LINEAR_API_KEY:0:4}...${LINEAR_API_KEY: -4}"
    echo "‚úÖ Linear API Key: $masked"
else
    echo "‚ùå Linear API Key: Not set (LINEAR_API_KEY)"
fi

if [ -n "$GITHUB_TOKEN" ]; then
    # Mask the token (show first 4 and last 4 chars)
    masked="${GITHUB_TOKEN:0:4}...${GITHUB_TOKEN: -4}"
    echo "‚úÖ GitHub Token: $masked"
else
    echo "‚ùå GitHub Token: Not set (GITHUB_TOKEN)"
fi

echo ""
echo "üì° Testing MCP Connections..."

# Test GitHub API
if [ -n "$GITHUB_TOKEN" ]; then
    if curl -s -H "Authorization: Bearer $GITHUB_TOKEN" \
            https://api.github.com/user | jq -e '.login' > /dev/null 2>&1; then
        echo "‚úÖ GitHub API: Connected ($(curl -s -H "Authorization: Bearer $GITHUB_TOKEN" \
            https://api.github.com/user | jq -r '.login'))"
    else
        echo "‚ùå GitHub API: Authentication failed"
    fi
fi

# Check environment
echo ""
echo "üìç Environment:"
if [ -n "$CODESPACES" ]; then
    echo "   Location: GitHub Codespaces"
elif [ -n "$REMOTE_CONTAINERS" ]; then
    echo "   Location: DevContainer"
elif [ -n "$TERM_PROGRAM" ] && [ "$TERM_PROGRAM" = "WarpTerminal" ]; then
    echo "   Location: Warp (macOS host)"
else
    echo "   Location: macOS host"
fi

# Final status
echo ""
if [ -n "$GITHUB_TOKEN" ] && [ -n "$LINEAR_API_KEY" ]; then
    echo "‚úÖ All MCP servers authenticated successfully!"
else
    echo "‚ö†Ô∏è  Some MCP servers are missing credentials"
fi
```

## Example Output

```
üîç Checking MCP Authentication...

‚úÖ Linear API Key: lin_...xyz
‚úÖ GitHub Token: ghp_...abc

üì° Testing MCP Connections...
‚úÖ GitHub API: Connected (rafaelcarvalho)

üìç Environment:
   Location: DevContainer

‚úÖ All MCP servers authenticated successfully!
```
